sudo: required

services:
  - docker

compiler: clang

before_install:
  - docker pull ubuntu:bionic
  - docker build .

script:
  - docker run ubuntu:bionic /bin/bash -c "cmake -DCMAKE_GENERATOR=Ninja .. && ninja && ctest -V -j6"
  - cmake -DCMAKE_GENERATOR=Ninja .. && ninja && ctest -V -j6
branches:
  only:
    - /.*/